{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GlobalService {\n  // private questions = [\n  //   {\n  //     \"question\": \"Les insectes sont les appareils biologiques les plus abondants sur la planète?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"La biodiversité menace particulièrement l'avenir de la planète?\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"Les espèces qui cohabitent dans un écosystème dépendent les unes des autres pour leur survie, c'est ce qu'on appelle la \\\"coopération\\\" écologique.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Les forêts tropicales sont-elles les régions les plus pollueuses de la planète?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Lors de la décomposition d'une feuille, la microbiote bénéficie de la présence d'oxygène pour métaboliser efficacement les molécules organiques.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"L'étude de la biomasse est essentielle pour évaluer l'état de santé d'un écosystème.\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"Les écosystèmes sont particulièrement vulnérables aux changements climatiques.\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"L'aire de répartition de l'ours brun (Ursus arctos) est en constante augmentation dans les dernières années en raison de sa résilience et de la préservation des habitats.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Les termes \\\"écologie\\\" et \\\"biologie\\\" sont synonymes?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"La pollution par le plastique a un impact négatif sur les écosystèmes marins.\",\n  //     \"answer\": true\n  //   }\n  // ];\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = \"http://127.0.0.1:5000\";\n    this.logEntriesSubject = new BehaviorSubject([]);\n    this.logEntries$ = this.logEntriesSubject.asObservable();\n  }\n  get(path) {\n    return this.http.get(`${this.apiUrl}${path}`);\n  }\n  getRandomQuestions(num) {\n    return this.questions.sort(() => 0.5 - Math.random()).slice(0, num);\n  }\n  addLogEntry() {\n    const logEntries = this.logEntriesSubject.value;\n    const newLogEntry = {\n      id: logEntries.length,\n      moving: false\n    };\n    logEntries.push(newLogEntry);\n    this.logEntriesSubject.next(logEntries);\n    setTimeout(() => this.moveLogEntry(newLogEntry.id), 100);\n  }\n  moveLogEntry(id) {\n    const logEntries = this.logEntriesSubject.value.map(logEntry => logEntry.id === id ? {\n      ...logEntry,\n      moving: true\n    } : logEntry);\n    this.logEntriesSubject.next(logEntries);\n  }\n  static #_ = this.ɵfac = function GlobalService_Factory(t) {\n    return new (t || GlobalService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: GlobalService,\n    factory: GlobalService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["BehaviorSubject","GlobalService","constructor","http","apiUrl","logEntriesSubject","logEntries$","asObservable","get","path","getRandomQuestions","num","questions","sort","Math","random","slice","addLogEntry","logEntries","value","newLogEntry","id","length","moving","push","next","setTimeout","moveLogEntry","map","logEntry","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["/Users/anassi/Desktop/Epitech/Beaver-Builders/src/app/services/global.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { HttpClient, HttpParams } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalService {\n\n  apiUrl = \"http://127.0.0.1:5000\";\n\n  private logEntriesSubject = new BehaviorSubject<{ id: number, moving: boolean }[]>([]);\n  logEntries$ = this.logEntriesSubject.asObservable();\n\n  // private questions = [\n  //   {\n  //     \"question\": \"Les insectes sont les appareils biologiques les plus abondants sur la planète?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"La biodiversité menace particulièrement l'avenir de la planète?\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"Les espèces qui cohabitent dans un écosystème dépendent les unes des autres pour leur survie, c'est ce qu'on appelle la \\\"coopération\\\" écologique.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Les forêts tropicales sont-elles les régions les plus pollueuses de la planète?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Lors de la décomposition d'une feuille, la microbiote bénéficie de la présence d'oxygène pour métaboliser efficacement les molécules organiques.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"L'étude de la biomasse est essentielle pour évaluer l'état de santé d'un écosystème.\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"Les écosystèmes sont particulièrement vulnérables aux changements climatiques.\",\n  //     \"answer\": true\n  //   },\n  //   {\n  //     \"question\": \"L'aire de répartition de l'ours brun (Ursus arctos) est en constante augmentation dans les dernières années en raison de sa résilience et de la préservation des habitats.\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"Les termes \\\"écologie\\\" et \\\"biologie\\\" sont synonymes?\",\n  //     \"answer\": false\n  //   },\n  //   {\n  //     \"question\": \"La pollution par le plastique a un impact négatif sur les écosystèmes marins.\",\n  //     \"answer\": true\n  //   }\n  // ];\n\n  constructor(public http: HttpClient,) { }\n\n  get(path: string) {\n    return this.http.get<any[]>(`${this.apiUrl}${path}`);\n  }\n\n  getRandomQuestions(num: number) {\n    return this.questions.sort(() => 0.5 - Math.random()).slice(0, num);\n  }\n\n  addLogEntry() {\n    const logEntries = this.logEntriesSubject.value;\n    const newLogEntry = { id: logEntries.length, moving: false };\n    logEntries.push(newLogEntry);\n    this.logEntriesSubject.next(logEntries);\n    setTimeout(() => this.moveLogEntry(newLogEntry.id), 100);\n  }\n\n  private moveLogEntry(id: number) {\n    const logEntries = this.logEntriesSubject.value.map(logEntry => \n      logEntry.id === id ? { ...logEntry, moving: true } : logEntry\n    );\n    this.logEntriesSubject.next(logEntries);\n  }\n\n}\n"],"mappings":"AACA,SAASA,eAAe,QAAoB,MAAM;;;AAOlD,OAAM,MAAOC,aAAa;EAOxB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC,YAAmBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAhDvB,KAAAC,MAAM,GAAG,uBAAuB;IAExB,KAAAC,iBAAiB,GAAG,IAAIL,eAAe,CAAoC,EAAE,CAAC;IACtF,KAAAM,WAAW,GAAG,IAAI,CAACD,iBAAiB,CAACE,YAAY,EAAE;EA6CX;EAExCC,GAAGA,CAACC,IAAY;IACd,OAAO,IAAI,CAACN,IAAI,CAACK,GAAG,CAAQ,GAAG,IAAI,CAACJ,MAAM,GAAGK,IAAI,EAAE,CAAC;EACtD;EAEAC,kBAAkBA,CAACC,GAAW;IAC5B,OAAO,IAAI,CAACC,SAAS,CAACC,IAAI,CAAC,MAAM,GAAG,GAAGC,IAAI,CAACC,MAAM,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,EAAEL,GAAG,CAAC;EACrE;EAEAM,WAAWA,CAAA;IACT,MAAMC,UAAU,GAAG,IAAI,CAACb,iBAAiB,CAACc,KAAK;IAC/C,MAAMC,WAAW,GAAG;MAAEC,EAAE,EAAEH,UAAU,CAACI,MAAM;MAAEC,MAAM,EAAE;IAAK,CAAE;IAC5DL,UAAU,CAACM,IAAI,CAACJ,WAAW,CAAC;IAC5B,IAAI,CAACf,iBAAiB,CAACoB,IAAI,CAACP,UAAU,CAAC;IACvCQ,UAAU,CAAC,MAAM,IAAI,CAACC,YAAY,CAACP,WAAW,CAACC,EAAE,CAAC,EAAE,GAAG,CAAC;EAC1D;EAEQM,YAAYA,CAACN,EAAU;IAC7B,MAAMH,UAAU,GAAG,IAAI,CAACb,iBAAiB,CAACc,KAAK,CAACS,GAAG,CAACC,QAAQ,IAC1DA,QAAQ,CAACR,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGQ,QAAQ;MAAEN,MAAM,EAAE;IAAI,CAAE,GAAGM,QAAQ,CAC9D;IACD,IAAI,CAACxB,iBAAiB,CAACoB,IAAI,CAACP,UAAU,CAAC;EACzC;EAAC,QAAAY,CAAA,G;qBAzEU7B,aAAa,EAAA8B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAblC,aAAa;IAAAmC,OAAA,EAAbnC,aAAa,CAAAoC,IAAA;IAAAC,UAAA,EAFZ;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}